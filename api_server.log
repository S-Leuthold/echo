/Users/samleuthold/Desktop/echo/api_server.py:794: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:     Started server process [58282]
INFO:     Waiting for application startup.
INFO:__main__:Initializing Echo API server...
INFO:echo.email_processor:Loaded email filters: 7 important senders, 7 urgent keywords
INFO:__main__:Echo API server initialized successfully
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:54458 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54503 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54618 - "GET /health HTTP/1.1" 200 OK
INFO:echo.email_processor:Token expired, attempting refresh...
INFO:echo.email_processor:Tokens saved, expires at 2025-07-26 15:33:54.173776
INFO:echo.email_processor:Access token refreshed successfully
INFO:httpx:HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
ERROR:echo.cli:Error calling LLM: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.'}}
WARNING:echo.email_processor:LLM email summary failed, using fallback: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.'}}
INFO:     127.0.0.1:54620 - "GET /today HTTP/1.1" 200 OK
INFO:     127.0.0.1:54620 - "GET /config HTTP/1.1" 200 OK
INFO:     127.0.0.1:54620 - "GET /config HTTP/1.1" 200 OK
INFO:     127.0.0.1:54627 - "OPTIONS /session/complete HTTP/1.1" 200 OK
INFO:__main__:Completing session for block dev-session-1753558411194: Research | UX Patterns Study
INFO:echo.session_logger:Synthesizing session log for Research | UX Patterns Study
INFO:httpx:HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
ERROR:echo.claude_client:Claude API error: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.'}}
ERROR:echo.session_logger:Error synthesizing session log: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.'}}
WARNING:echo.session_logger:Creating fallback session log due to Claude API unavailability
INFO:__main__:Generated session log with hybrid voice model for Research | UX Patterns Study
INFO:     127.0.0.1:54627 - "POST /session/complete HTTP/1.1" 200 OK
INFO:     127.0.0.1:54890 - "GET /health HTTP/1.1" 200 OK
